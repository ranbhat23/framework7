<!DOCTYPE html>
<html>
<head>
    <title>PM2 Status Monitor</title>
    <script src="https://cdn.socket.io"></script>
</head>
<body>
    <h1>PM2 Process Status</h1>
    <pre id="status-output"></pre>

    <script>
        // Connect to the Socket.IO server running on port 3001
        const socket = io('http://localhost:3001');

        socket.on('connect', () => {
            console.log('Connected to server');
        });

        // Listen for the 'pm2-status-update' event
        socket.on('pm2-status-update', (statusData) => {
            const outputElement = document.getElementById('status-output');
            // Display the data in a readable JSON format
            outputElement.textContent = JSON.stringify(statusData, null, 2);
            console.log('Received PM2 status update:', statusData);
        });

        socket.on('disconnect', () => {
            console.log('Disconnected from server');
        });
    </script>
</body>
</html>
